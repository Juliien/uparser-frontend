<div class="container">
  <h2 class="text-center title my-5">Convertisseur</h2>
  <div class="card my-2">
    <div class="progress">
      <div class="progress-bar bg-danger" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
    <div class="card-body">
      <h5 class="card-title">Conversion de {{parser.extensionStart}} vers {{parser.extensionEnd}}</h5>
      <p class="card-text"><small class="text-muted">{{parser.date | date:'longDate':'UTC'}}</small></p>
    </div>
  </div>

  <!-- Drop zone -->
  <div class="content" appDnd (fileDropped)="getUploadFile($event)">
    <input type="file" #fileDropRef id="fileDropRef" (change)="getUploadFile($event.target)">
    <div *ngIf="!fileName">
      <i class="fas fa-cloud-upload-alt fa-5x"></i>
      <h4>Déposer un fichier</h4>
      <p class="text-muted"><strong>ou</strong></p>
      <label for="fileDropRef">Choisir un fichier</label>
    </div>
    <div *ngIf="fileName">
      <i class="fas fa-cloud-download-alt fa-5x"></i>
      <h4>{{fileName}}</h4>
      <p class="text-muted"><strong>prêt à être convertie</strong></p>
    </div>

  </div>

  <!-- Spinner -->
  <div *ngIf="spinner">
    <div class="text-center mt-5" >
      <div class="spinner-border text-primary" role="status" style="">
        <span class="sr-only">Loading...</span>
      </div>
    </div>
    <p class="text-center mt-1"><strong>Conversion du fichier...</strong></p>
  </div>
  <div class="d-flex justify-content-center">
    <button type="button" class="btn btn-danger my-3" (click)='convertFile()' [disabled]="spinner || !fileName">
      Convertir votre fichier
    </button>
  </div>
</div>




